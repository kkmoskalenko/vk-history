# vk-history

## Установка

1. Убедитесь, что у Вас установлен Python 3, запустив команду `python3 --version`. В противном случае, [загрузите](https://www.python.org/downloads/) и установите совместимую версию.
2. Установите библиотеку [vk](https://github.com/voronind/vk) для Python. Это можно сделать, выполнив команду: `pip3 install vk`.
3. Загрузите исходный код этого репозитория.

## Использование

**`vk-history`** – консольное приложение. Для его запуска используйте команду:

```
python3 vk-history.py
```

Для получения дальнейшей справки запустите вышеприведённую команду с аргументом `--help`.

**Внимание!** Аргумент `access_token` является обязательным. Его необходимо передавать в качестве последнего аргумента при каждом запуске `vk-history.py`

### Примеры использования

*Во всех нижеприведённых примерах вместо `<access_token>` необходимо подставлять действующий [ключ доступа пользователя пользователя](https://vk.com/dev/access_token) ВКонтакте.*

1. Возвращает список идентификаторов всех собеседников:

   ```
   python3 vk-history.py peers <access_token>
   ```

2. Сохраняет все истории переписок в файл:

   ```
   python3 vk-history.py get --all <access_token>
   ```

   Также можно добавить аргумент `--exclude id1, id2, id3`, перечислив после него идентификаторы собеседников. История переписок с этими собеседниками будет исключена из выходного файла.

   С помощью аргумента `--output filename.json` можно указать название выходного файла (короткая запись: `-o filename.json`).

3. Сохраняет истории переписок только с теми пользователями, чьи идентификаторы перечислены после аргумента `--ids`:

   ```
   python3 vk-history.py get --ids id1, id2, id3 <access_token>
   ```

   Необходимо указать по меньшей один идентификатор собеседника, история переписки с которым будет сохранена. Данная команда также поддерживает аргумент `--output`.

